(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4374,e=>{"use strict";e.s(["default",()=>l]);var a=e.i(47167),s=e.i(43476),t=e.i(71645);function l(){let[e,l]=(0,t.useState)(""),[i,c]=(0,t.useState)(),[o,n]=(0,t.useState)(),[r,d]=(0,t.useState)([]);return(0,t.useEffect)(()=>{fetch("https://images.andrewb.site/all-images?api_key="+a.default.env.NEXT_PUBLIC_IMAGES_API_KEY).then(e=>e.json()).then(e=>{d(e.images),console.log(e.images)})},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",placeholder:"Image Name",onChange:e=>l(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let a=e.target.files[0];c(a),a&&n(URL.createObjectURL(a))}}),(0,s.jsx)("div",{className:"container row row-cols-3",children:(0,s.jsxs)("div",{className:"col card",children:[e&&(0,s.jsx)("h1",{children:e}),o&&(0,s.jsx)("img",{className:"img-fluid ",src:o,alt:"Image"}),(0,s.jsx)("button",{onClick:()=>{i||alert("Upload an image first");let s=new FormData;s.append("image",i),console.log("https://images.andrewb.site/upload?filename="+e+"&api_key="+a.default.env.NEXT_PUBLIC_IMAGES_API_KEY),fetch("https://images.andrewb.site/upload?filename="+e+"&api_key="+a.default.env.NEXT_PUBLIC_IMAGES_API_KEY,{method:"POST",body:s}).then(e=>e.json()).then(e=>{console.log("Success:",e),alert("Success, image uploaded")}).catch(e=>{console.error("Error:",e),alert("Image failed to upload :(")})},children:"Upload"})]})}),r,(0,s.jsx)("div",{className:"container row row-cols-1 row-cols-sm-2 row-cols-lg-3",children:r&&r.map(e=>(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{className:"card-title",children:e}),(0,s.jsx)("img",{className:"img-fluid card-img",src:"https://images.andrewb.site/images/"+e+"?api_key="+a.default.env.NEXT_PUBLIC_IMAGES_API_KEY})]},e))})]})}}]);