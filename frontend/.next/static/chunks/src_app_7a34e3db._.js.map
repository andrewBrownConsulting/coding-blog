{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/editor/addPost.js"],"sourcesContent":["'use server'\nimport { addBlogEntry, getAllBlogIds, getBlogEntryWithId } from '../db.js'\nexport async function addPost(title, id, imgCaption, article) {\n  addBlogEntry(id, title, imgCaption, article);\n}\nexport async function getIds() {\n  return getAllBlogIds();\n}\nexport async function serverGetBlogEntryWithId(id) {\n  return getBlogEntryWithId(id);\n}\n"],"names":[],"mappings":";;;;;;;IAEsB,UAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/editor/addPost.js"],"sourcesContent":["'use server'\nimport { addBlogEntry, getAllBlogIds, getBlogEntryWithId } from '../db.js'\nexport async function addPost(title, id, imgCaption, article) {\n  addBlogEntry(id, title, imgCaption, article);\n}\nexport async function getIds() {\n  return getAllBlogIds();\n}\nexport async function serverGetBlogEntryWithId(id) {\n  return getBlogEntryWithId(id);\n}\n"],"names":[],"mappings":";;;;;;;IAKsB,SAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/editor/addPost.js"],"sourcesContent":["'use server'\nimport { addBlogEntry, getAllBlogIds, getBlogEntryWithId } from '../db.js'\nexport async function addPost(title, id, imgCaption, article) {\n  addBlogEntry(id, title, imgCaption, article);\n}\nexport async function getIds() {\n  return getAllBlogIds();\n}\nexport async function serverGetBlogEntryWithId(id) {\n  return getBlogEntryWithId(id);\n}\n"],"names":[],"mappings":";;;;;;;IAQsB,2BAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/utils.js"],"sourcesContent":["import Image from 'next/image'\nconst imagesURL = \"https://localhost/images/\" //process.env.NEXT_PUBLIC_IMAGES_BASE_URL;\n\nexport function parseDate(dateString) {\n  return new Date(Date.parse(dateString)).toLocaleDateString(\"en-GB\", { day: \"numeric\", month: \"long\", year: \"numeric\" });\n}\nexport function formatArticle(article) {\n  const articleArray = article.split('\\n');\n  return articleArray;\n}\nexport function getLogo(id) {\n  return <div>\n    <Image\n      className={'img-fluid rounded'}\n      src={imagesURL + id + '.png'}\n      width={100}\n      height={100}\n      alt='Logo'\n      unoptimized\n    />\n  </div>\n}\nexport function getImageFromId(id, card = false) {\n  return (\n    <Image\n      className={'img-fluid rounded ' + (card ? 'card-img' : '')}\n      src={imagesURL + id + '.png'}\n      width={500}\n      height={300}\n      alt={id}\n      key={id}\n      unoptimized\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;AACA,MAAM,YAAY,4BAA4B,0CAA0C;;AAEjF,SAAS,UAAU,UAAU;IAClC,OAAO,IAAI,KAAK,KAAK,KAAK,CAAC,aAAa,kBAAkB,CAAC,SAAS;QAAE,KAAK;QAAW,OAAO;QAAQ,MAAM;IAAU;AACvH;AACO,SAAS,cAAc,OAAO;IACnC,MAAM,eAAe,QAAQ,KAAK,CAAC;IACnC,OAAO;AACT;AACO,SAAS,QAAQ,EAAE;IACxB,qBAAO,6LAAC;kBACN,cAAA,6LAAC,2IAAK;YACJ,WAAW;YACX,KAAK,YAAY,KAAK;YACtB,OAAO;YACP,QAAQ;YACR,KAAI;YACJ,WAAW;;;;;;;;;;;AAGjB;AACO,SAAS,eAAe,EAAE;QAAE,OAAA,iEAAO;IACxC,qBACE,6LAAC,2IAAK;QACJ,WAAW,uBAAuB,CAAC,OAAO,aAAa,EAAE;QACzD,KAAK,YAAY,KAAK;QACtB,OAAO;QACP,QAAQ;QACR,KAAK;QAEL,WAAW;OADN;;;;;AAIX","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/db.js"],"sourcesContent":["import { Pool } from 'pg';\n\nconst pool = new Pool({\n  user: process.env.POSTGRES_USER,\n  password: process.env.POSTGRES_PASSWORD,\n  host: process.env.POSTGRES_HOST, //CHANGE ME\n  database: process.env.POSTGRES_DB\n});\nconst blog_query = (text, params) => pool.query(text, params)\n\nexport async function getAllBlogIds() {\n  const database = await blog_query('select id from blog_entries');\n  return database.rows;\n}\nexport async function getAllBlogEntries() {\n  const database = await blog_query('select * from blog_entries order by date_created DESC');\n  return database.rows;\n}\nexport async function getLatestBlogEntry() {\n  const database = await blog_query('select * from blog_entries order by date_created DESC LIMIT 1');\n  return database.rows[0];\n}\nexport async function getBlogEntryWithId(id) {\n  const database = await blog_query('select * from blog_entries WHERE id = $1', [id]);\n  return database.rows[0];\n}\nexport async function addBlogEntry(id, title, img_caption, article) {\n\n  let date_created = new Date();\n\n  const database = await blog_query('INSERT INTO blog_entries (id, title, date_created, image_url, image_caption, article) VALUES ($1, $2, $3, $4, $5, $6)', [id, title, date_created, \"N/A\", img_caption, article]);\n  console.log(database)\n  return database.rows[0];\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAGQ;AAHR;;AAEA,MAAM,OAAO,IAAI,8IAAI,CAAC;IACpB,MAAM,2KAAO,CAAC,GAAG,CAAC,aAAa;IAC/B,UAAU,2KAAO,CAAC,GAAG,CAAC,iBAAiB;IACvC,MAAM,2KAAO,CAAC,GAAG,CAAC,aAAa;IAC/B,UAAU,2KAAO,CAAC,GAAG,CAAC,WAAW;AACnC;AACA,MAAM,aAAa,CAAC,MAAM,SAAW,KAAK,KAAK,CAAC,MAAM;AAE/C,eAAe;IACpB,MAAM,WAAW,MAAM,WAAW;IAClC,OAAO,SAAS,IAAI;AACtB;AACO,eAAe;IACpB,MAAM,WAAW,MAAM,WAAW;IAClC,OAAO,SAAS,IAAI;AACtB;AACO,eAAe;IACpB,MAAM,WAAW,MAAM,WAAW;IAClC,OAAO,SAAS,IAAI,CAAC,EAAE;AACzB;AACO,eAAe,mBAAmB,EAAE;IACzC,MAAM,WAAW,MAAM,WAAW,4CAA4C;QAAC;KAAG;IAClF,OAAO,SAAS,IAAI,CAAC,EAAE;AACzB;AACO,eAAe,aAAa,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO;IAEhE,IAAI,eAAe,IAAI;IAEvB,MAAM,WAAW,MAAM,WAAW,yHAAyH;QAAC;QAAI;QAAO;QAAc;QAAO;QAAa;KAAQ;IACjN,QAAQ,GAAG,CAAC;IACZ,OAAO,SAAS,IAAI,CAAC,EAAE;AACzB","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/editor/page.jsx"],"sourcesContent":["'use client'\nimport { useState, useEffect } from 'react'\nimport { addPost, getIds, serverGetBlogEntryWithId } from './addPost';\nimport { formatArticle } from \"../utils.js\"\nimport { getBlogEntryWithId } from '../db.js';\n\nexport default function Home() {\n  const [id, setId] = useState('');\n  const [title, setTitle] = useState('');\n  const [imgCaption, setImgCaption] = useState('');\n  const [article, setArticle] = useState([]);\n  const [ids, setIds] = useState([]);\n  function handleArticleChange(input) {\n    setArticle(formatArticle(input));\n  }\n  async function getAndAwaitIds() {\n    const ids = await getIds();\n    const mappedIds = ids.map((val) => val.id)\n    setIds(mappedIds);\n  }\n  async function awaitBlogEntry(id) {\n    const { title, article, imgCaption } = serverGetBlogEntryWithId(id);\n    setTitle(title);\n  }\n  function handleIdChange(newId) {\n    setId(newId);\n    awaitBlogEntry(id);\n  }\n  useEffect(() => {\n    getAndAwaitIds();\n  }, [])\n  return (\n    <div>\n      <form action={() => addPost(title, id, imgCaption, article)}>\n        <select onChange={(e) => handleIdChange(e.target.value)}>\n          {ids.map((id) => <option key={id}>{id}</option>)}\n        </select>\n        <br />\n\n        {<input value={id} onChange={e => setId(e.target.value)} />}\n        <br />\n        <input value={title} onChange={e => setTitle(e.target.value)} />\n        <br />\n        <input value={imgCaption} onChange={e => setImgCaption(e.target.value)} />\n        <br />\n        <textarea onChange={e => handleArticleChange(e.target.value)} />\n        <br />\n        <button type='submit'>Submit</button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,yKAAQ,EAAC;IAC7B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACzC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACjC,SAAS,oBAAoB,KAAK;QAChC,WAAW,IAAA,uIAAa,EAAC;IAC3B;IACA,eAAe;QACb,MAAM,MAAM,MAAM,IAAA,yKAAM;QACxB,MAAM,YAAY,IAAI,GAAG,CAAC,CAAC,MAAQ,IAAI,EAAE;QACzC,OAAO;IACT;IACA,eAAe,eAAe,EAAE;QAC9B,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,IAAA,2LAAwB,EAAC;QAChE,SAAS;IACX;IACA,SAAS,eAAe,KAAK;QAC3B,MAAM;QACN,eAAe;IACjB;IACA,IAAA,0KAAS;0BAAC;YACR;QACF;yBAAG,EAAE;IACL,qBACE,6LAAC;kBACC,cAAA,6LAAC;YAAK,QAAQ,IAAM,IAAA,0KAAO,EAAC,OAAO,IAAI,YAAY;;8BACjD,6LAAC;oBAAO,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;8BACnD,IAAI,GAAG,CAAC,CAAC,mBAAO,6LAAC;sCAAiB;2BAAL;;;;;;;;;;8BAEhC,6LAAC;;;;;8BAEA,6LAAC;oBAAM,OAAO;oBAAI,UAAU,CAAA,IAAK,MAAM,EAAE,MAAM,CAAC,KAAK;;;;;;8BACtD,6LAAC;;;;;8BACD,6LAAC;oBAAM,OAAO;oBAAO,UAAU,CAAA,IAAK,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;8BAC3D,6LAAC;;;;;8BACD,6LAAC;oBAAM,OAAO;oBAAY,UAAU,CAAA,IAAK,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;8BACrE,6LAAC;;;;;8BACD,6LAAC;oBAAS,UAAU,CAAA,IAAK,oBAAoB,EAAE,MAAM,CAAC,KAAK;;;;;;8BAC3D,6LAAC;;;;;8BACD,6LAAC;oBAAO,MAAK;8BAAS;;;;;;;;;;;;;;;;;AAI9B;GA7CwB;KAAA","debugId":null}}]
}