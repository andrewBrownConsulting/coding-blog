module.exports=[62737,a=>{"use strict";a.s(["default",()=>d]);var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)(""),[e,f]=(0,c.useState)(),[g,h]=(0,c.useState)(),[i,j]=(0,c.useState)([]);return(0,c.useEffect)(()=>{fetch("https://images.andrewb.site/all-images?api_key="+process.env.NEXT_PUBLIC_IMAGES_API_KEY).then(a=>a.json()).then(a=>{j(a.images),console.log(a.images)})},[]),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{type:"text",placeholder:"Image Name",onChange:a=>d(a.target.value)}),(0,b.jsx)("br",{}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files[0];f(b),b&&h(URL.createObjectURL(b))}}),(0,b.jsx)("div",{className:"container row row-cols-3",children:(0,b.jsxs)("div",{className:"col card",children:[a&&(0,b.jsx)("h1",{children:a}),g&&(0,b.jsx)("img",{className:"img-fluid ",src:g,alt:"Image"}),(0,b.jsx)("button",{onClick:()=>{e||alert("Upload an image first");let b=new FormData;b.append("image",e),console.log("https://images.andrewb.site/upload?filename="+a+"&api_key="+process.env.NEXT_PUBLIC_IMAGES_API_KEY),fetch("https://images.andrewb.site/upload?filename="+a+"&api_key="+process.env.NEXT_PUBLIC_IMAGES_API_KEY,{method:"POST",body:b}).then(a=>a.json()).then(a=>{console.log("Success:",a),alert("Success, image uploaded")}).catch(a=>{console.error("Error:",a),alert("Image failed to upload :(")})},children:"Upload"})]})}),i,(0,b.jsx)("div",{className:"container row row-cols-1 row-cols-sm-2 row-cols-lg-3",children:i&&i.map(a=>(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h3",{className:"card-title",children:a}),(0,b.jsx)("img",{className:"img-fluid card-img",src:"https://images.andrewb.site/images/"+a+"?api_key="+process.env.NEXT_PUBLIC_IMAGES_API_KEY})]},a))})]})}}];

//# sourceMappingURL=src_app_images_page_jsx_cb880ae8._.js.map